<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous">
  </script>
  <script src="helper.js">
  </script>
<style>
body {
  font-family: "Lato", sans-serif;
}
.sidenav {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}
.sidenav a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}
.sidenav a:hover {
  color: #f1f1f1;
}
.sidenav .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left-left: 50px;
}
@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 18px;}
}
.sidenav2 {
  right: 0;
}
.sidenav2 {
  height: 100%;
  width: 0;
  position: fixed;
  z-index: 1;
  top: 0;
  right: 0;
  background-color: #111;
  overflow-x: hidden;
  transition: 0.5s;
  padding-top: 60px;
}
.sidenav2 a {
  padding: 8px 8px 8px 32px;
  text-decoration: none;
  font-size: 25px;
  color: #818181;
  display: block;
  transition: 0.3s;
}
.sidenav2 a:hover {
  color: #f1f1f1;
}
.sidenav2 .closebtn {
  position: absolute;
  top: 0;
  right: 25px;
  font-size: 36px;
  margin-left-left: 50px;
}
@media screen and (max-height: 450px) {
  .sidenav2 {padding-top: 15px;}
  .sidenav2 a {font-size: 18px;}
}
</style>
<style>
@media print {
  .page{page-break-before: always;}
}
@page {
  size: A4;
  margin: 0;
}
.margin{
	border-right:solid;
	width:10%;
vertical-align: top;
	}
.margin2{

	width:2%;

	}
.para{
	
	width:88%;

	}
table{
	margin:0px;
	margin-top:50px;
	margin:bottom:50px;
	width:100%;
	}
	tr
	{
	height:25px;
	}
	td
	{
	height:30px;
	}
.page{
	border:solid ;
	box-shadow:5px 5px black;
	width:60%;
	height:1050px;
	margin-top:50px;
	}
textarea{
	decoration:none;
	border:none;
	border-right:solid;
	}
	
</style>
</head>
<body>
<center>

	<input type="text" id="command">
	enter here;
	<input type="button" id="submit">
	
	
	<div class="container" style="height:auto">
		<div class="page" id="1" >
			<table class="1">

				<tr>
					<td class="margin" id="Q1">
						Q1:]
					</td>
					
					<td class="para" id="P1">
						
					</td>
					<td class="margin2">
					</td>
					
				</tr>
			
			</table>
		</div>
	</div>

	<button id="print">
		PRINT
		</button>	





<button id="button" onclick="toggleStartStop()"></button>
</center>



<script type="text/javascript">
  var pageheigth="970";
  
    
  var recognizing;
  var totalinpage=0;
  var commandcall=0;
  var mode="";
  var submode="name";
  var currentline=0;
  var currentparagraph=1;
  var currentquestion="";
  var currentsubqueston="";
  var current_element="1";
  var noofpages=1;
  var currentpage=1;
  var B=I=U= 0;
  var questionname="1"; 
  function update()
  {
  $(".container").find("").find("table").find("td.para").html();
  $container=$(".container");//ad page here
  $page=$(".container").find(".page#"+currentpage); //add questions 
  $table=$(".container").find(".page#"+currentpage).find("table."+currentpage);//add para here
  console.log($table.html());
  $para=$(".container").find(".page#"+currentpage).find("table."+currentpage).find("td.para#P"+currentparagraph);//add lines here 
  }
  update();
$("document").ready(function()
{
  $("#submit").click(function(){

	//console.clear();
	var str = $("#command").val()+" ";
	console.clear();
	var array  = str.split(" ");

for(var i=0;i < array.length; i++)
{	
	
	if(commandcall==1)
	{	if (array[i]=="")
		{
	
		}
		else
		{
		
			var text=(array[i].toLowerCase());
			switch(text)
			{
			case "profile":
			mode="profile";
			break;				
			case "navigate":
			mode="navigate";
			break;
			case "exit":
			commandcall=0;
			mode="";
			submode="";
			case "delete":
			mode="delete";
			break;
			case "space":
			mode="space";
			case "space":
				console.log("->");
				commandcall=0;
				mode="";
				submode="";
				break;
			case "tab":
				console.log("---=->");
				commandcall=0;
				mode="";
				submode="";
				break;
			break;
			case "tab":
			mode="tab";
			break;
			case "next":
			mode="next";
			break;
			case "style":
			mode="style";
			break;
			case "document":
			mode="document";
			break;
			default :
				switch(mode)
				{
				case "profile":
					switch(text)
					{
						case "name":
							submode="name"
							console.log("Your name is ");
							for(var j=i;j<array.length;j++)
							{
								console.log(array[j]);
							}
							return false;
						break;
						case "roll":
		
							submode="Roll"
							console.log("Your roll no is "+array[i+2]);
							return false;
						break;
						case "seat":

							submode="Seat"
							console.log("Your seat no is "+array[i+2]);
							return false;
							break;
						case "center":

							submode="Center"
							console.log("Your center no is "+array[i+2]);
							return false;
							break;
						case "university":
							submode="University";
							console.log("Your University name is ");
							for(var j=i;j<array.length;j++)
							{
								console.log(array[j]);
							}
							return false;
							break;
						case "state":
							submode="State";
							console.log("Your State name is ");
							for(var j=i;j<array.length;j++)
							{
								console.log(array[j]);
							}
							return false;
							break;
						case "city":
						case "ct":
						submode="City";
						console.log("Your City name is ");
							for(var j=i;j<array.length;j++)
							{
								console.log(array[j]);
							}
							return false;
							break;	
						
						case "save":
							submode="save";
							break;
							
						
						default:
						console.log("invalid command in "+mode);
						break;
					}
				break;
				case "navigate":
					switch(text)
					{
						case "up":
							console.log("^Up");
							break;
						case "Down":
						case "down":
							console.log("vDown");
							break;
						case "Left":
						case "left":
							console.log("<left");
							break;
						case "Right":
						case "right":
							console.log("rigth>");
							break;
							
						default:
						break;	
						
					}
						
				break;
				case "delete":
					switch(text)
					{
					case "line":
					
					break;
					case"paragraph":
					
					break;
					case "word":
					
					break;
					case "start":
					
					break;
					case "stop":
					
					break;
					default:
					break;
					}
				break;
				
				case "next":
					switch(text)
					{
						case"line":
							currentline++;
							console.log("Adding Line");
							$para.append("<l id='"+currentline+"'><br>") ;
							
							commandcall=0;
							mode="";
							submode="";
							
						break;
						case "paragraph":
						case"para":
							console.log("Adding paragraph");
							currentparagraph++;
							$table.append("<tr><td class='margin' id='Q"+questionname+"'></td><td class='para' id='P"+currentparagraph+"'></td><td class='margin2'></td></tr>") ;
							$para=$(".container").find(".page#"+currentpage).find("table."+currentpage).find("td.para#P"+currentparagraph);
							update();
							commandcall=0;
							mode="";
							submode="";
									
			
						break;
						case "question":
							console.log("Adding Question");
							currentquestion++;
							commandcall=0;
							mode="";
							submode="";
						break;
						case "page":
							console.log("Adding page");
							currentpage++;
							noofpages++;
							currentparagraph++;
							$container.append("<div class='page' id='"+noofpages+"' ><table class='"+currentpage+"'><tr><td class='margin' id='Q"+questionname+"'></td> <td class='para' id='P"+currentparagraph+"'></td> <td class='margin2'></td><tr></table>") ;
							$para=$(".container").find(".page#"+currentpage).find("table."+currentpage).find("td.para#P"+currentparagraph);
							$table=$(".container").find(".page#"+currentpage).find("table."+currentpage);
							commandcall=0;
							mode="";
							submode="";
						break;
						default:
							console.log("invalid command");
							commandcall=0;
							mode="";
							submode="";
						break;
					}
				break;
				case "style":
					switch(text)
					{
						case"bold":
							B=1;
							commandcall=0;
							mode="";
							submode="";
						break;
						case"italic":
							I=1;
							commandcall=0;
							mode="";
							submode="";
						break;
						case"underline":
							U=1;
							commandcall=0;
							mode="";
							submode="";
						break;
						case "none":
						B=0;
						U=0;
						I=0;
						commandcall=0;
						mode="";
							submode="";
						break;
						default: 
						break;
					}
				break;
				case "document":
					switch(text)
					{
						case"save":
					
						break;
						case "print":
							$(".page").css("width","100%");
							$("button").css("display","none");
							window.print();
							$(".page").css("width","60%");
							$("button").css("display","none");
							break;
						default:
						break;
					}
				break;
				default:
				console.log("invalid");
				break;
				}
			break;
			}
			
		}	
		
	}
	else  
	{	
		var text=(array[i].toLowerCase());
		
		switch(text)
		{
			case "vl":
			case "VL":
			commandcall=1;
			console.log("command activated");
			break;
			default:
			if(B==0&&I==0&&U==0)
			{console.log("style");
				if(array[i]==array.length-1)
				{

				}
				else
				{
					$para.append(array[i]+" ");
				}
			}
			else
			{
				sty="";
				if(B==1)
				{
				sty=sty+"<B>";
				} 
				if(I==1)
				{
					sty=sty+"<i>";
				} 
				if(U==1)
				{
					sty=sty+"<U>";
				}
				if(array[i]==array.length-1)
				{
					
				}
				else
				{
					$para.append(sty+array[i]+" ");
				}

			}	
		
			
				
				
			
			break;
		
		}
	}
}

console.log("commandcall "+commandcall+" mode:"+ mode);
console.log("LINE "+currentline +" PARA" + currentparagraph  +" QUESTION"+ currentquestion + " ELEMENT " + current_element);
console.log("B" + B +" I "+I+" U " +I);
console.log("string:"+str );
console.log("para :"+$para);		
});

$("#print").click(function(){
	$(".page").css("width","100%");
	$("button").css("display","none");
	window.print();
	$(".page").css("width","60%");
	$("button").css("display","block");
	
	});
	
});
/*
if(mode=="")//Check and Set mode
		{
			switch(array[i])
			{
			case "Profile":
			case "profile":
				mode="Profile";
				console.log(mode);
				
			break;
			case "Navigate":
			case "navigate":
				mode="Navigate";
				console.log(mode);
			
			
			
			case "Delete":
				mode="Delete";
				console.log(mode);
				//--->
				break;
			case "Tab":
			case "tab":
			case "tap":
			case "Tap":
				mode="Tab";
				console.log(mode);
				//--->
				break;
			case "Space":
			case "space":
			case "SPACE":
				mode="Space";
				console.log(mode);
				break;
			case "Next":
			case "NEXT":
			case "next":
				mode="next";
				console.log(mode);
				break;
			case "Style":
			
				mode="Style";
				console.log(mode);
				break;
			case "Document":
			
				mode="Document";
				console.log(mode);
				break;
			default:
			
			break;
			}
		}
		//Check and set Submode
		else if(mode=="Profile")
		{
				console.log(mode);
				switch(array[i])
				{	case "EXIT":
					case "Exit":
					case "exit":
					mode="";
					submode="";
					commandcall="";
					console.log(mode);
					break;
					
				
				}
		}
		else if((mode=="Navigate")||(mode=="navigate"))
		{	console.log(mode);
			switch(array[i])
			{	case "EXIT":
				case "Exit":
				case "exit":
				mode="";
				submode="";
				commandcall="";
				console.log(mode);
				break;
				
			}
		}
		else if(mode=="Delete")
		{
			if((array[i+1])=="")
			{
			}
			else if(array[i]==0)
			{
			
			}
			else
			{
			
			}
		}
		else if(mode=="Next")
		{
			if(array[i+1]=="")
			{
			}
			else
			{
				switch(array[i+1])
				{
				case "Line":
				break;
				
				default :
				break;
				}
			}
		}
		else if(mode=="Style")
		{
		
		}
		else if(mode=="Document")
		{
		
		}
		else
		{
			console.log("Invalid command");
		}
		
	}
	
	else if((commandcall==1)&&((array[i]=="VL")||(array[i]=="BL")||(array[i]=="Vl")||(array[i]=="Bl")||(array[i]=="vl")||(array[i]=="bl")))
	{
		break;
		///////////////////////////////////////////////////////////////////
			  for(var i=0;i < array.length; i++)
	  {	
		switch(array[i])
		{
		case "VL":
		case "BL":
		case "Vl":
		case "Bl":
		case "vl":
		case "bl":
		commandcall=1;
		
		break;
		
		case "Profile":
		case "profile":
			if(commandcall==1)
			{
				mode="Profile";
				console.log("mode"+mode);
			
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Name":
		case "name":
		if((commandcall==1)&&(mode=="Profile"))
			{
					console.log("Your name is ");
					for(var j=i;j<array.length;j++)
					{
					console.log(array[j]);
					}
					return false;
			
			}

				break;
		case "roll":
		case "Roll":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="Roll";
				console.log("Your roll no is "+array[i+2]);
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
		case "seat":
		case "Seat":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="Seat";
				console.log("Your Seat no is "+array[i+2]);
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
		case "center":
		case "center":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="center";
				console.log("Your center no is "+array[i+2]);
				return false;
			}
			else
			{
			console.log(array[i]);
			}
		break;
				
		case "university":
		case "University":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="University";
				console.log("Your University name is ");
				for(var j=i;j<array.length;j++)
				{
				console.log(array[j]);
				}
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
		case "State":
		case "State":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="State";
				console.log("Your state is ");
				for(var j=i;j<array.length;j++)
				{
				console.log(array[j]);
				}
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
		case "City":
		case "city":
		case "CT":
		case "ct":
		case "Ct":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="City";
				console.log("Your city is ");
				for(var j=i;j<array.length;j++)
				{
				console.log(array[j]);
				}
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
			
		case "board":
		case "Board":
		case "boored":
		case "bored":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="Board";
				console.log("Your Board is ");
				for(var j=i;j<array.length;j++)
				{
				console.log(array[j]);
				}
				return false;
			}
			else
			{
			console.log(array[i]);
			}
			break;
		case "save":
			if((commandcall==1)&&(mode=="Profile"))
			{
				submode="save";
				console.log("Your Board is ");
				for(var j=i;j<array.length;j++)
				{
				console.log(array[j]);
				}
				return false;
			}
			else
			{
			console.log(array[i]);
			}
		break;
		case "Editor":
		case "editor":
			if(commandcall==1)
			{
				mode="Editor";
				console.log("mode"+mode);
				
				
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Next":
		case "next":
			if((commandcall==1)&&(mode=="Editor"))
			{	submode="Next";
				if((array[i+1]=="Line")||(array[i+1]=="line"))
				{
				console.log("<br></td><td class='margin'><td/><td class='blank'>");
				return false;
				}
				else if((array[i+1]=="Question")||(array[i+1]=="question"))
				{
					console.log("<br></td ><td class='margin'>");
						return false;
				}
				else if((array[i+1]=="Paragraph")||(array[i+1]=="paragraph"))
				{
					console.log("<br><br>&nbsp");
						return false;
				}
				else if((array[i+1]=="Page")||(array[i+1]=="page"))
				{
				$(".container").append("<div class='page' id='1'><table><tr><td class='margin' id='Q1' > Q1:]<td class='blank' id='ans1'>");
					return false;
				}
				
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Navigate":
		case "navigate":
			if(commandcall==1)
			{
				mode="Navigate";
				console.log("mode"+mode);
				
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "up":
		case "Up":console.log("Up");
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Up";
				console.log("MOve curosr ^ ");
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Down":
		case "down":
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Down";
				console.log("MOve curosr V ");
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Left":
		case "left":
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Left";
				console.log("MOve curosr <- ");
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Right":
		case "right":
		case "Write":
		case "write":
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Right";
				console.log("MOve curosr -> ");
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Delete":
		case "delete":
			if((commandcall==1)&&(mode=="Editor"))
			{	submode="Delete";
				
				if((array[i+1]=="Line")||(array[i+1]=="line"))
				{
					console.log("delete 1 line");
					return false;
				}
				else if((array[i+1]=="Paragraph")||(array[i+1]=="paragraph"))
				{
					console.log("delete paragraph");
					return false;
				}
				else if((array[i+1]=="Start")||(array[i+1]=="start"))
				{
					console.log("keep deleting till stop is said");
					submode="Delete";
					return false;
				}
				else
				{
				console.log("delete 1 charecter");
				}
				
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Stop":
		case "stop":
			if((commandcall==1)&&(mode=="Navigate"))
			{	if(submode="Delete")
				{
				console.log("Stop deleting");
				submode="";
				return false;
				}	
			}	
			else
			{
				console.log(array[i]);
			}
		case "Space":
		case "space":
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Space";
				console.log("add space here");
				return false;
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "Tab":
		case "tab":
			if((commandcall==1)&&(mode=="Navigate"))
			{	submode="Tab";
				console.log("add tabspace here ");
				return false;
			}
			else
			{
				console.log(array[i]);
			}
			break;
		
		case "Commands":
		case "Commands":
			if(commandcall==1)
			{
				mode="Commands";
				console.log("mode"+mode);
				console.log("show all Commands");
				
			}
			else
			{
				console.log(array[i]);
			}
			break;
		case "exit":
		case "Exit":
		if(commandcall==1)
			{
			
			mode="";
			submode="";
			console.log("Exit mode");
			commandcall=0;return false;
			break;
			}
		else
		{
		console.log(array[i]); 
		}
		break;
		default :
		
		strx = strx+" "+array[i];
		if(strx.length>80)
		{
			$(current_element).append("<br>");
			$(current_element).append(array[i]);
			console.log(strx.length);
			strx="";
		
		
		}
		else
		{
		$("#ans1").append(" "+array[i]);
		}
		break ;
		}	
	  }
 } 
});
	
  /*var recognition = new webkitSpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = false;
  reset();
  recognition.onend = reset;
  recognition.onresult = function (event) {
    var finaldata = "";
    var final = "";
    for (var i = 0; i < event.results.length; ++i) {
	//commands for software
	switch( event.results[i].transcript)
	{
	case 'Vl':
	case 'VL':
	case 'VL':
		commandcall=1;
	break;
	case 'Profile' :
	if (commandcall==1)
	{
		mode="Profile";
	
	}
	else
	break;
	default:
	//add text to data
	 final += event.results[i].transcript;
	break;
	}
 
}
	$("#final").append(finaldata);
  }
  function reset() {
    recognizing = false;
    button.innerHTML = "Click to Speak";

  }
  function toggleStartStop() {
    if (recognizing) {
      recognition.stop();
      reset();
    } 
	else {
      recognition.start();
      recognizing = true;
    }
  }

$(document).ready(function(){
  $("textarea").keypress(function(e){
 var c = $("textarea").val()+(String.fromCharCode(e.which))
  if(e.which==127)
  {
  //delete
  }

  // $("textarea").val(c);
    return false;
  });
  $("button").click(function(){
      var press = jQuery.Event("keypress");
press.ctrlKey = false;
press.which =28; 
//9 tab
//32 space 
//13 enter
$("textareax").trigger(press);
  });
container--> #(page)id-->table-->tr-->(td).margin
								   -->(td).blank
*/

</script>
   
</body>
</html> 
